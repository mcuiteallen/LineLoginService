(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-650010c8"],{"57da":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row justify-content-center buttonImgDiv"},[a("button",{staticClass:"btn btn-primary priceBtn",attrs:{type:"button"},on:{click:function(t){return e.openModal()}}},[e._v(" 539下注 ")])]),a("vuestic-modal",{ref:"ModalSaleInfo",attrs:{force:!0,large:!0},on:{cancel:function(t){return e.cancelModal()}}},[a("loading",{attrs:{active:e.isLoading,"can-cancel":!1,"is-full-page":e.fullPage},on:{"update:active":function(t){e.isLoading=t}}}),a("div",{attrs:{slot:"title"},slot:"title"}),a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("fieldset",[a("div",{staticClass:"form-group with-icon-right"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.nameInput,expression:"nameInput"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"nameInput"},domProps:{value:e.nameInput},on:{input:function(t){t.target.composing||(e.nameInput=t.target.value)}}}),a("i",{staticClass:"fa fa-exclamation-triangle error-icon icon-right input-icon"}),a("i",{staticClass:"fa fa-check valid-icon icon-right input-icon"}),a("label",{staticClass:"control-label",attrs:{for:"nameInput"}},[e._v("您的大名")]),a("i",{staticClass:"bar"})])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("fieldset",[a("div",{staticClass:"form-group with-icon-right"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.factoryInput,expression:"factoryInput"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"factoryInput"},domProps:{value:e.factoryInput},on:{input:function(t){t.target.composing||(e.factoryInput=t.target.value)}}}),a("i",{staticClass:"fa fa-exclamation-triangle error-icon icon-right input-icon"}),a("i",{staticClass:"fa fa-check valid-icon icon-right input-icon"}),a("label",{staticClass:"control-label",attrs:{for:"factoryInput"}},[e._v("注碼")]),a("i",{staticClass:"bar"})])])])])])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.sendToBoss()}}},[e._v("送出")])])],1)],1)},i=[],o=a("9062"),r=a.n(o),s=(a("e40d"),a("b448"));let l={};var c={name:"Home",computed:{},components:{loading:r.a},data(){return{isLoading:!1,fullPage:!1,imgFiles:[],btnName:"上傳照片",newImgSrc:"",defaultLogo:"",isHasMessageBox:!0,yearInput:"",milageInput:"",prePriceInput:"",selectLocate:"",locateList:[{name:"台北市"},{name:"新北市"},{name:"基隆市"},{name:"宜蘭縣/市"},{name:"桃園市"},{name:"新竹縣/市"},{name:"苗栗縣/市"},{name:"台中市"},{name:"彰化縣/市"},{name:"雲林縣"},{name:"嘉義縣/市"},{name:"台南縣/市"},{name:"高雄縣/市"},{name:"屏東縣/市"},{name:"台東縣/市"},{name:"花蓮縣/市"}],nameInput:"",factoryInput:"",Phone:"",PhoneFormat:!1,onChangePhone:!0,showPhone:!0,phoneInput:"",lineIdInput:"",hasPhoneErrorActive:!1,inputIsValid:!1}},mounted(){l=this},watch:{},computed:{},methods:{openModal(){l.$refs.ModalSaleInfo.open()},openLineModal(){l.$refs.AddLine.open()},openWindows(){window.open("https://line.me/ti/p/trvCNPQC5u","_blank")},chooseMenu(e){this.$bus.$emit("menuChange",{id:e})},cancelModal(){l.clearInput(),l.$refs.ModalSaleInfo.close(),l.$refs.AddLine.close()},clearInput(){l.yearInput="",l.milageInput="",l.prePriceInput="",l.selectLocate="",l.lineIdInput="",l.phoneInput="",l.nameInput="",l.factoryInput="",l.imgFiles=[],setTimeout((function(){l.errors.clear()}),10)},buttonEnable(){return""!==l.selectLocate&&(""!==l.nameInput.trim()&&""!==l.yearInput.trim()&&""!==l.milageInput.trim()&&""!==l.prePriceInput.trim()&&""!==l.factoryInput.trim()&&""!==l.phoneInput.trim()&&""!==l.lineIdInput.trim())},dataURItoBlob(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),i=new Uint8Array(n),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([n],{type:a})},sendToBoss(){let e=l.imgFiles,t=[];if(l.buttonEnable()){if(e.length>0){if(e.length>=5)return s["a"].MessageBox.Normal(l,"照片已超過上傳數量!!","","warning"),!1;for(let o=0;o<e.length;o++){let a=e[o],n=a.name.split("."),i=o+1;t.push("picture"+i+"."+n[1])}l.isLoading=!0;let a=l.nameInput+Date.now(),n={};n["Name"]=l.nameInput,n["Phone"]=l.phoneInput,n["LineID"]=l.lineIdInput,n["Factory"]=l.factoryInput,n["Year"]=l.yearInput,n["Milage"]=l.milageInput,n["PrePrice"]=l.prePriceInput,n["Locate"]=l.selectLocate.name,n["pictureNameList"]=t;let i="\n大名: "+n.Name+"\n電話: "+n.Phone+"\nLINE ID: "+n.LineID+"\n廠牌: "+n.Factory+"\n年份: "+n.Year+"\n里程: "+n.Milage+"\n所在地: "+n.Locate+"\n期望售出金額: "+n.PrePrice+"\n";for(let t=0;t<e.length;t++){let o=new FormData,r=e[t],c=t+1,p=!1;t===e.length-1&&(p=!0);let u=new FileReader;u.readAsDataURL(r),u.onload=function(e){let t=new Image,u=document.createElement("canvas"),m=u.getContext("2d");u.width=1e3,u.height=800,t.src=this.result,m.drawImage(t,0,0,u.width,u.height),"image/jpeg"===r.type||"image/jpg"===r.type?t.src=u.toDataURL("image/jpeg",.8):"image/gif"===r.type||(t.src=u.toDataURL());let d=l.dataURItoBlob(t.src);o.append("myImage",d,r.name),o.append("session",a),o.append("newName","picture"+c.toString()),o.append("message",i),o.append("orgName",r.name),o.append("pictureNameList",n["pictureNameList"].toString()),o.append("lastData",p);s["a"].uploadImg.post.uploadByFormData(o).then((function(e){p&&(l.isLoading=!1,s["a"].MessageBox.Normal(l,"送出成功!!","經過評估過後會立即連絡您，請耐心等候~","success").then(l.cancelModal()))})).catch((function(e){l.isLoading=!1}))}}}}else s["a"].MessageBox.Normal(l,"有資料沒填到喔","或是格式不正確喔","warning")}},beforeDestroy(){l.cancelModal}},p=c,u=(a("9492"),a("0c7c")),m=Object(u["a"])(p,n,i,!1,null,"4ad0e459",null);t["default"]=m.exports},9492:function(e,t,a){"use strict";var n=a("c810"),i=a.n(n);i.a},c810:function(e,t,a){}}]);
//# sourceMappingURL=chunk-650010c8.7a72e1ce.js.map